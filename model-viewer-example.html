<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unified Model Viewer - Example</title>
    
    <!-- Load model-viewer -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
    
    <!-- Load our integration script -->
    <script src="model-viewer-integration.js"></script>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #000;
            color: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .example-section {
            margin: 40px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        
        .gallery-example {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .model-viewer-container {
            height: 300px;
            border: 1px solid #444;
            border-radius: 8px;
            background: #111;
        }
        
        .ar-container {
            height: 400px;
            border: 1px solid #444;
            border-radius: 8px;
            background: #111;
            position: relative;
        }
        
        button {
            background: #7877c6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background: #6666b5;
        }
        
        .model-card {
            background: rgba(15, 15, 15, 0.8);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(120, 119, 198, 0.1);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
        }
        
        .model-header {
            text-align: center;
            margin-bottom: 16px;
        }
        
        .model-number {
            font-size: 0.9rem;
            color: #7877c6;
            margin-bottom: 8px;
        }
        
        .model-title {
            font-size: 1.1rem;
            color: #f3f4f6;
            margin-bottom: 8px;
        }
        
        .model-actions {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .action-btn {
            background: rgba(15, 15, 15, 0.8);
            border: 1px solid rgba(120, 119, 198, 0.2);
            color: #e5e7eb;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn.primary {
            background: linear-gradient(135deg, rgba(120, 119, 198, 0.2) 0%, rgba(120, 119, 198, 0.1) 100%);
            border-color: rgba(120, 119, 198, 0.4);
            color: #ffffff;
        }
        
        .action-btn:hover {
            background: rgba(120, 119, 198, 0.1);
            border-color: rgba(120, 119, 198, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Unified Model Viewer Examples</h1>
        
        <!-- Gallery Mode Example -->
        <div class="example-section">
            <h2>Gallery Mode</h2>
            <p>Standard gallery view with camera controls and basic interaction:</p>
            
            <div class="model-viewer-container" id="gallery-example-1"></div>
            
            <button onclick="loadGalleryExample(1)">Load Model 1</button>
            <button onclick="loadGalleryExample(2)">Load Model 2</button>
            <button onclick="loadGalleryExample(3)">Load Model 3</button>
        </div>
        
        <!-- AR Mode Example -->
        <div class="example-section">
            <h2>AR Mode</h2>
            <p>AR-ready viewer with full-screen display and AR controls:</p>
            
            <div class="ar-container" id="ar-example-1"></div>
            
            <button onclick="loadARExample(1)">Load AR Model 1</button>
            <button onclick="loadARExample(2)">Load AR Model 2</button>
            <button onclick="loadARExample(3)">Load AR Model 3</button>
        </div>
        
        <!-- Gallery Card Example -->
        <div class="example-section">
            <h2>Complete Gallery Cards</h2>
            <p>Full gallery cards with metadata and actions:</p>
            
            <div class="gallery-example" id="gallery-cards"></div>
            
            <button onclick="createGalleryCards()">Create Gallery Cards</button>
        </div>
        
        <!-- Manual Integration Example -->
        <div class="example-section">
            <h2>Manual Integration</h2>
            <p>Example of manually creating model-viewer elements:</p>
            
            <div class="model-viewer-container" id="manual-example"></div>
            
            <button onclick="createManualExample()">Create Manual Example</button>
        </div>
    </div>

    <script>
        // Example chapter data
        const exampleChapters = {
            1: { name: "Samantabhadra", title: "O Bodhisattva da Ação Universal", occupation: "Bodhisattva", location: "Palácio Celestial" },
            2: { name: "Manjushri", title: "O Bodhisattva da Sabedoria", occupation: "Bodhisattva", location: "Monte Wutai" },
            3: { name: "Avalokiteshvara", title: "O Bodhisattva da Compaixão", occupation: "Bodhisattva", location: "Monte Putuo" }
        };
        
        // Gallery mode examples
        function loadGalleryExample(modelId) {
            const container = document.getElementById('gallery-example-1');
            container.innerHTML = ''; // Clear previous
            
            initGalleryModelViewer('gallery-example-1', modelId, exampleChapters[modelId], {
                onLoad: (id) => console.log(`Gallery model ${id} loaded`),
                onError: (id, error) => console.error(`Gallery model ${id} error:`, error)
            });
        }
        
        // AR mode examples
        function loadARExample(modelId) {
            const container = document.getElementById('ar-example-1');
            container.innerHTML = ''; // Clear previous
            
            initARModelViewer('ar-example-1', modelId, {
                onLoad: (id) => console.log(`AR model ${id} loaded`),
                onError: (id, error) => console.error(`AR model ${id} error:`, error),
                onProgress: (id, progress) => console.log(`AR model ${id} progress: ${Math.round(progress * 100)}%`)
            });
        }
        
        // Create gallery cards
        function createGalleryCards() {
            const container = document.getElementById('gallery-cards');
            container.innerHTML = ''; // Clear previous
            
            [1, 2, 3].forEach(modelId => {
                const card = createGalleryCard(modelId, exampleChapters[modelId], true, {
                    onLoad: (id) => console.log(`Card model ${id} loaded`)
                });
                container.appendChild(card);
            });
        }
        
        // Manual example
        function createManualExample() {
            const container = document.getElementById('manual-example');
            container.innerHTML = ''; // Clear previous
            
            // Create model-viewer manually
            const modelViewer = document.createElement('model-viewer');
            modelViewer.setAttribute('src', 'models/modelo1.glb');
            modelViewer.setAttribute('ios-src', 'models/usdz/modelo1.usdz');
            modelViewer.setAttribute('alt', 'Manual Example Model');
            modelViewer.setAttribute('camera-controls', '');
            modelViewer.setAttribute('auto-rotate', '');
            modelViewer.style.width = '100%';
            modelViewer.style.height = '100%';
            
            modelViewer.addEventListener('load', () => {
                console.log('Manual model loaded');
            });
            
            container.appendChild(modelViewer);
        }
        
        // Global functions for action buttons (simulated)
        window.openInAR = function(modelId) {
            alert(`Opening model ${modelId} in AR mode`);
            // In real implementation, this would redirect to AR.html with model parameter
        };
        
        window.viewFullscreen = function(modelId) {
            alert(`Viewing model ${modelId} details`);
        };
        
        window.downloadModel = function(modelId) {
            downloadModelFile(modelId);
        };
        
        // Load first examples on page load
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                loadGalleryExample(1);
                loadARExample(1);
            }, 1000);
        });
    </script>
</body>
</html>